<h2>📋 Mes Tâches</h2>

<table mat-table [dataSource]="tasks" class="mat-elevation-z8">
    <ng-container matColumnDef="service">
        <th mat-header-cell *matHeaderCellDef> 🛠 Service </th>
        <td mat-cell *matCellDef="let task"> {{ task.service?.name }} </td>
    </ng-container>

    <ng-container matColumnDef="appointment">
        <th mat-header-cell *matHeaderCellDef> 📅 Date </th>
        <td mat-cell *matCellDef="let task"> {{ task.appointment?.appointmentDate | date:'short' }} </td>
    </ng-container>

    <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef> ✅ Statut </th>
        <td mat-cell *matCellDef="let task">
            <span class="f-s-12 f-w-500 p-x-10 p-y-4 rounded-pill"
                [ngClass]="['bg-light-' + getStatusColor(task.status), 'text-' + getStatusColor(task.status)]">
                {{ task.status }}
            </span>
        </td>
    </ng-container>

    <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> 🎯 Actions </th>
        <td mat-cell *matCellDef="let task">
            <button mat-button color="primary" (click)="viewTaskDetails(task)">Détails</button>
        </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="['service', 'appointment', 'status', 'actions']"></tr>
    <tr mat-row *matRowDef="let row; columns: ['service', 'appointment', 'status', 'actions'];"></tr>
</table>