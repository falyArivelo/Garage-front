<div class="app-topstrip bg-white text-white p-y-10 p-x-20 w-100 d-lg-flex align-items-center justify-content-between">
    
    <!-- Mobile Menu -->
    @if(!showToggle) {
    <button mat-icon-button (click)="toggleMobileNav.emit()" class="d-flex justify-content-center">
        <i class="iconify icon-20 d-flex" data-icon="solar:hamburger-menu-line-duotone"></i>
    </button>
    }
    <div><app-branding></app-branding></div>

    <span class="flex-1-auto"></span>

    <div class="d-flex align-items-center">
        <!-- Notification Dropdown -->
        <button mat-icon-button aria-label="Notifications" [matMenuTriggerFor]="menu"
            class="d-flex align-items-center justify-content-center" style="margin-right: 20px;">
            <div matBadge="2" matBadgeSize="small" matBadgeOverlap="false" class="demo-section">
                <i class="iconify icon-20 d-flex" data-icon="solar:bell-line-duotone"></i>
            </div>
        </button>
        <mat-menu #menu="matMenu">
            <button mat-menu-item>Item 1</button>
            <button mat-menu-item>Item 2</button>
        </mat-menu>

        <!-- profile Dropdown -->
            <!-- Vérifier si l'utilisateur est connecté -->
        <ng-container *ngIf="authService.isLoggedIn; else loginButton">
            <!-- Profile Dropdown -->
            <button mat-icon-button extended [matMenuTriggerFor]="profilemenu" aria-label="Profile"
                class="d-flex align-items-center justify-content-center profile-btn-dd">
                <img src="/assets/images/profile/user-1.jpg" class="rounded-circle object-cover icon-35 profile-dd"
                    width="35" />
            </button>
            <mat-menu #profilemenu="matMenu" class="topbar-dd cardWithShadow">
                <button mat-menu-item>
                    <mat-icon class="d-flex align-items-center"><i data-icon="solar:shield-user-line-duotone"
                            class="iconify icon-22"></i></mat-icon>{{email}}
                </button>
                <button mat-menu-item>
                    <mat-icon class="d-flex align-items-center"><i data-icon="solar:checklist-minimalistic-line-duotone"
                            class="iconify icon-22"></i> </mat-icon>My Task
                </button>
                <div class="p-x-12 m-t-12">
                    <a (click)="logout()" mat-stroked-button class="w-100">Logout</a>
                </div>
            </mat-menu>
        </ng-container>

        <!-- Si non connecté, afficher le bouton "Se connecter" -->
        <ng-template #loginButton>
            <a routerLink="/authentication/login" mat-stroked-button class="btn-login">Se connecter</a>
        </ng-template>
        <!-- <button mat-icon-button extended [matMenuTriggerFor]="profilemenu" aria-label="Profile"
            class="d-flex align-items-center justify-content-center profile-btn-dd">
            <img src="/assets/images/profile/user-1.jpg" class="rounded-circle object-cover icon-35 profile-dd"
                width="35" />
        </button>
        <mat-menu #profilemenu="matMenu" class="topbar-dd cardWithShadow">
            <button mat-menu-item>
                <mat-icon class="d-flex align-items-center"><i data-icon="solar:shield-user-line-duotone"
                        class="iconify icon-22"></i></mat-icon>{{email}}
            </button>
            <button mat-menu-item>
                <mat-icon class="d-flex align-items-center"><i data-icon="solar:checklist-minimalistic-line-duotone"
                        class="iconify icon-22"></i> </mat-icon>My Task
            </button>
            <div class="p-x-12 m-t-12">
                <a (click)="logout()" mat-stroked-button class="w-100">Logout</a>
            </div>
        </mat-menu> -->
    </div>
</div>