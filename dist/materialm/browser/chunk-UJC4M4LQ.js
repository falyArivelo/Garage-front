import{a as U}from"./chunk-NALY7SMR.js";import{$ as V}from"./chunk-6GRSV3W3.js";import{d as b,e as w,i as C,k as B}from"./chunk-M22CPC4C.js";import{$a as q,Ca as M,Da as E,Ea as I,Ga as g,Ia as x,La as L,Ma as A,Pa as k,Qa as F,Ra as R,Sa as N,Xa as T,Za as O,eb as D,lb as G,nb as j,sb as P,xa as y,za as l}from"./chunk-LDYTSFDL.js";import"./chunk-JHHBZ5S2.js";import{Eb as m,Ob as e,Pb as i,Qb as d,Wb as S,Zc as v,cd as _,fb as a,hc as o,kb as c,pc as f,sb as h,xb as u}from"./chunk-NNBNMEEF.js";import"./chunk-GAL4ENT6.js";var ie=()=>["/dashboard"],oe=()=>["/"],ne=()=>["/authentication/register"];function ae(t,p){t&1&&d(0,"mat-progress-bar",21)}function me(t,p){t&1&&(e(0,"mat-error"),o(1,"Ce champ est requis"),i())}function se(t,p){t&1&&(e(0,"mat-error"),o(1,"Email invalide"),i())}function le(t,p){t&1&&(e(0,"mat-error"),o(1,"Ce champ est requis"),i())}function pe(t,p){t&1&&(e(0,"mat-error"),o(1,"Minimum 6 caract\xE8res"),i())}var W=(()=>{class t{constructor(s,n){this.router=s,this.authService=n,this.email="",this.password="",this.isLoading=!1,this.form=new I({email:new g("",[l.required,l.email]),password:new g("",[l.required,l.minLength(3)])})}ngOnInit(){localStorage.getItem("carcare-token")&&this.router.navigate(["/dashboard"])}get f(){return this.form.controls}submit(){if(this.form.invalid)return;this.isLoading=!0;let s={email:this.form.value.email||"",password:this.form.value.password||""};this.authService.login(s).subscribe({next:n=>{console.log("Login r\xE9ussi :",n),localStorage.setItem("carcare-token",n.token),this.router.navigate(["/dashboard"])},error(n){console.error("Erreur de connexion:",n)},complete:()=>{this.isLoading=!1}})}static{this.\u0275fac=function(n){return new(n||t)(c(b),c(B))}}static{this.\u0275cmp=h({type:t,selectors:[["app-side-login"]],decls:33,vars:13,consts:[[1,"blank-layout-container","justify-content-center","align-items-center","bg-light"],[1,"position-relative","row","w-100","h-100","bg-gredient","justify-content-center"],[1,"col-lg-4","d-flex","align-items-center"],[1,"cardWithShadow","boxed-auth"],[1,"p-32"],[1,"text-center"],[3,"routerLink"],["src","./assets/images/logos/logo.png","alt","logo",1,"align-middle","m-2",2,"width","100px","height","auto"],["mode","indeterminate",4,"ngIf"],[1,"m-t-30",3,"ngSubmit","formGroup"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","type","email","formControlName","email"],[4,"ngIf"],["matInput","","type","password","formControlName","password"],[1,"d-flex","align-items-center","m-b-12"],["color","primary"],[1,"text-primary","f-w-600","text-decoration-none","m-l-auto","f-s-14",3,"routerLink"],["type","submit","mat-flat-button","","color","primary",1,"w-100",3,"disabled"],[1,"d-block","f-w-500","text-center","m-t-24"],[1,"text-decoration-none","text-primary","f-w-500","f-s-14",3,"routerLink"],["mode","indeterminate"]],template:function(n,r){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-content",4)(5,"div",5)(6,"a",6),d(7,"img",7),i()(),u(8,ae,1,0,"mat-progress-bar",8),e(9,"form",9),S("ngSubmit",function(){return r.submit()}),e(10,"mat-label",10),o(11,"Email"),i(),e(12,"mat-form-field",11),d(13,"input",12),u(14,me,2,0,"mat-error",13)(15,se,2,0,"mat-error",13),i(),e(16,"mat-label",10),o(17,"Password"),i(),e(18,"mat-form-field",11),d(19,"input",14),u(20,le,2,0,"mat-error",13)(21,pe,2,0,"mat-error",13),i(),e(22,"div",15)(23,"mat-checkbox",16),o(24,"Remember this Device"),i(),e(25,"a",17),o(26,"Forgot Password ?"),i()(),e(27,"button",18),o(28," Sign In "),i()(),e(29,"span",19),o(30,"New to MaterialM? "),e(31,"a",20),o(32," Create an account"),i()()()()()()()),n&2&&(a(6),m("routerLink",f(10,ie)),a(2),m("ngIf",r.isLoading),a(),m("formGroup",r.form),a(5),m("ngIf",r.f.email.errors==null?null:r.f.email.errors.required),a(),m("ngIf",r.f.email.errors==null?null:r.f.email.errors.email),a(5),m("ngIf",r.f.password.errors==null?null:r.f.password.errors.required),a(),m("ngIf",r.f.password.errors==null?null:r.f.password.errors.minlength),a(4),m("routerLink",f(11,oe)),a(2),m("disabled",r.form.invalid),a(4),m("routerLink",f(12,ne)))},dependencies:[_,v,C,w,V,O,T,R,N,D,G,j,q,P,k,x,y,M,E,F,L,A],encapsulation:2})}}return t})();var de=()=>["/dashboard"],ue=()=>["/authentication/login"];function ce(t,p){t&1&&d(0,"mat-progress-bar",19)}function fe(t,p){t&1&&(e(0,"mat-error"),o(1,"Ce champ est requis"),i())}function ge(t,p){t&1&&(e(0,"mat-error"),o(1,"Minimum 3 caract\xE8res"),i())}function he(t,p){t&1&&(e(0,"mat-error"),o(1,"Ce champ est requis"),i())}function Se(t,p){t&1&&(e(0,"mat-error"),o(1,"Email invalide"),i())}function ve(t,p){t&1&&(e(0,"mat-error"),o(1,"Ce champ est requis"),i())}function _e(t,p){t&1&&(e(0,"mat-error"),o(1,"Minimum 6 caract\xE8res"),i())}var z=(()=>{class t{constructor(s,n,r){this.settings=s,this.router=n,this.authService=r,this.options=this.settings.getOptions(),this.isLoading=!1,this.form=new I({username:new g("",[l.required,l.minLength(3)]),email:new g("",[l.required,l.email]),password:new g("",[l.required,l.minLength(3)])})}ngOnInit(){localStorage.getItem("carcare-token")&&this.router.navigate(["/dashboard"])}passwordMatchValidator(s){let n=s.get("password")?.value,r=s.get("confirmPassword")?.value;return n===r?null:{passwordMismatch:!0}}get f(){return this.form.controls}submit(){if(this.form.invalid)return;this.isLoading=!0;let s={username:this.form.value.username||"",email:this.form.value.email||"",password:this.form.value.password||""};this.authService.signup(s).subscribe({next:n=>{console.log("Inscription r\xE9ussi :",n),this.router.navigate(["/authentication/login"])},error(n){console.error("Erreur d inscription :",n)},complete:()=>{this.isLoading=!1}})}static{this.\u0275fac=function(n){return new(n||t)(c(U),c(b),c(B))}}static{this.\u0275cmp=h({type:t,selectors:[["app-side-register"]],decls:34,vars:12,consts:[[1,"blank-layout-container","justify-content-center","align-items-center","bg-light"],[1,"position-relative","row","w-100","h-100","bg-gredient","justify-content-center"],[1,"col-lg-4","d-flex","align-items-center"],[1,"cardWithShadow","boxed-auth"],[1,"p-32"],[1,"text-center"],[3,"routerLink"],["src","./assets/images/logos/logo.png","alt","logo",1,"align-middle","m-2",2,"width","100px","height","auto"],["mode","indeterminate",4,"ngIf"],[1,"m-t-30",3,"ngSubmit","formGroup"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","type","text","formControlName","username"],[4,"ngIf"],["matInput","","type","email","formControlName","email"],["matInput","","type","password","formControlName","password"],["type","submit","mat-flat-button","","color","primary",1,"w-100"],[1,"d-block","f-w-500","text-center","m-t-24"],[1,"text-decoration-none","text-primary","f-w-500","f-s-14",3,"routerLink"],["mode","indeterminate"]],template:function(n,r){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-content",4)(5,"div",5)(6,"a",6),d(7,"img",7),i()(),u(8,ce,1,0,"mat-progress-bar",8),e(9,"form",9),S("ngSubmit",function(){return r.submit()}),e(10,"mat-label",10),o(11,"Username"),i(),e(12,"mat-form-field",11),d(13,"input",12),u(14,fe,2,0,"mat-error",13)(15,ge,2,0,"mat-error",13),i(),e(16,"mat-label",10),o(17,"Email"),i(),e(18,"mat-form-field",11),d(19,"input",14),u(20,he,2,0,"mat-error",13)(21,Se,2,0,"mat-error",13),i(),e(22,"mat-label",10),o(23,"Password"),i(),e(24,"mat-form-field",11),d(25,"input",15),u(26,ve,2,0,"mat-error",13)(27,_e,2,0,"mat-error",13),i(),e(28,"button",16),o(29," Sign Up "),i()(),e(30,"span",17),o(31,"Already have an Account? "),e(32,"a",18),o(33," Sign In"),i()()()()()()()),n&2&&(a(6),m("routerLink",f(10,de)),a(2),m("ngIf",r.isLoading),a(),m("formGroup",r.form),a(5),m("ngIf",r.f.username.errors==null?null:r.f.username.errors.required),a(),m("ngIf",r.f.username.errors==null?null:r.f.username.errors.minlength),a(5),m("ngIf",r.f.email.errors==null?null:r.f.email.errors.required),a(),m("ngIf",r.f.email.errors==null?null:r.f.email.errors.email),a(5),m("ngIf",r.f.password.errors==null?null:r.f.password.errors.required),a(),m("ngIf",r.f.password.errors==null?null:r.f.password.errors.minlength),a(5),m("routerLink",f(11,ue)))},dependencies:[_,v,C,w,V,T,R,N,D,G,j,q,P,k,x,y,M,E,F,L,A],encapsulation:2})}}return t})();var Ge=[{path:"",children:[{path:"login",component:W},{path:"register",component:z}]}];export{Ge as AuthenticationRoutes};
