import{a as Me}from"./chunk-NE6SGPLR.js";import{a as we}from"./chunk-3BXQV7YT.js";import"./chunk-M22CPC4C.js";import{$a as ae,Ca as q,Da as Y,Fa as J,Ha as Q,Ia as X,Na as ee,Pa as b,Qa as ne,Ra as te,Xa as oe,Ya as ie,_a as re,cb as se,eb as de,fb as le,ib as ce,kb as me,lb as ue,mb as pe,nb as fe,ob as ge,pb as he,rb as Ce,tb as be,wa as H,xa as $}from"./chunk-LDYTSFDL.js";import"./chunk-JHHBZ5S2.js";import{A as R,Aa as F,Bc as W,Ea as N,Eb as S,L as I,La as z,Ob as s,Pb as d,S as j,V as B,W as v,Wb as L,_ as U,aa as A,ca as k,cd as C,ed as Z,f as O,fb as u,g as D,hc as m,kb as c,lc as f,mc as g,nc as h,oc as G,q as x,sb as p,tb as T,ub as V,wb as K,x as E,za as e}from"./chunk-NNBNMEEF.js";import{a as _,b as P}from"./chunk-GAL4ENT6.js";var M=()=>{let n=typeof window<"u"?window:void 0;return n&&n.tinymce?n.tinymce:null},Re=(()=>{class n{onBeforePaste=new e;onBlur=new e;onClick=new e;onCompositionEnd=new e;onCompositionStart=new e;onCompositionUpdate=new e;onContextMenu=new e;onCopy=new e;onCut=new e;onDblclick=new e;onDrag=new e;onDragDrop=new e;onDragEnd=new e;onDragGesture=new e;onDragOver=new e;onDrop=new e;onFocus=new e;onFocusIn=new e;onFocusOut=new e;onKeyDown=new e;onKeyPress=new e;onKeyUp=new e;onMouseDown=new e;onMouseEnter=new e;onMouseLeave=new e;onMouseMove=new e;onMouseOut=new e;onMouseOver=new e;onMouseUp=new e;onPaste=new e;onSelectionChange=new e;onActivate=new e;onAddUndo=new e;onBeforeAddUndo=new e;onBeforeExecCommand=new e;onBeforeGetContent=new e;onBeforeRenderUI=new e;onBeforeSetContent=new e;onChange=new e;onClearUndos=new e;onDeactivate=new e;onDirty=new e;onExecCommand=new e;onGetContent=new e;onHide=new e;onInit=new e;onInput=new e;onInitNgModel=new e;onLoadContent=new e;onNodeChange=new e;onPostProcess=new e;onPostRender=new e;onPreInit=new e;onPreProcess=new e;onProgressState=new e;onRedo=new e;onRemove=new e;onReset=new e;onResizeEditor=new e;onSaveContent=new e;onSetAttrib=new e;onObjectResizeStart=new e;onObjectResized=new e;onObjectSelected=new e;onSetContent=new e;onShow=new e;onSubmit=new e;onUndo=new e;onVisualAid=new e;static \u0275fac=function(o){return new(o||n)};static \u0275dir=V({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onCompositionEnd:"onCompositionEnd",onCompositionStart:"onCompositionStart",onCompositionUpdate:"onCompositionUpdate",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInput:"onInput",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"},standalone:!1})}return n})(),ye=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onCompositionEnd","onCompositionStart","onCompositionUpdate","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],w=(n,a,t)=>E(n,a).pipe(v(t)),Ie=(n,a,t)=>{je(n).forEach(i=>{let l=n[i];w(a,i.substring(2),t).subscribe(r=>{ke(l)&&n.ngZone.run(()=>l.emit({event:r,editor:a}))})})},je=n=>{let a=Ee(n.ignoreEvents,[]);return Ee(n.allowedEvents,ye).filter(o=>ye.includes(o)&&!a.includes(o))},Ee=(n,a)=>typeof n=="string"?n.split(",").map(t=>t.trim()):Array.isArray(n)?n:a,ve=0,Be=n=>{let t=new Date().getTime(),o=Math.floor(Math.random()*1e9);return ve++,n+"_"+o+ve+String(t)},Se=n=>typeof n<"u"&&n.tagName.toLowerCase()==="textarea",_e=n=>typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" "),Ue=(n,a)=>_e(n).concat(_e(a)),Ae=()=>{},Pe=n=>n==null,ke=n=>n.observed||n.observers?.length>0,Fe=()=>n=>n.pipe(I(),x(()=>{})),Ne=()=>{let n=new D(null),a=n.pipe(R(Boolean),B(([t,o])=>{let i=t.createElement("script");return i.referrerPolicy="origin",i.type="application/javascript",i.src=o,t.head.appendChild(i),E(i,"load").pipe(Fe())}),j({bufferSize:1,refCount:!0}));return{load:(...t)=>(n.getValue()||n.next(t),a),reinitialize:()=>{n.next(null)}}},ze=Ne(),Te=new k("TINYMCE_SCRIPT_SRC"),Ve={provide:H,useExisting:U(()=>y),multi:!0},y=(()=>{class n extends Re{cdRef;platformId;tinymceScriptSrc;cloudChannel="7";apiKey="no-api-key";licenseKey;init;id="";initialValue;outputFormat;inline;tagName;plugins;toolbar;modelEvents="change input undo redo";allowedEvents;ignoreEvents;set disabled(t){this._disabled=t,this._editor&&this._editor.initialized&&(typeof this._editor.mode?.set=="function"?this._editor.mode.set(t?"readonly":"design"):this._editor.setMode(t?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}ngZone;_elementRef;_element;_disabled;_editor;onTouchedCallback=Ae;onChangeCallback;destroy$=new O;constructor(t,o,i,l,r){super(),this.cdRef=i,this.platformId=l,this.tinymceScriptSrc=r,this._elementRef=t,this.ngZone=o}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(Pe(t)?"":t):this.initialValue=t===null?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){Z(this.platformId)&&(this.id=this.id||Be("tiny-angular"),this.inline=this.inline!==void 0?this.inline!==!1:!!this.init?.inline,this.createElement(),M()!==null?this.initialise():this._element&&this._element.ownerDocument&&ze.load(this._element.ownerDocument,this.getScriptSrc()).pipe(v(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),M()!==null&&M().remove(this._editor)}createElement(){let t=typeof this.tagName=="string"?this.tagName:"div";if(this._element=document.createElement(this.inline?t:"textarea"),this._element){let o=document.getElementById(this.id);o&&o!==this._elementRef.nativeElement&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,Se(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element)}}initialise=()=>{let t=P(_({},this.init),{selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,license_key:this.licenseKey,plugins:Ue(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:o=>{this._editor=o,w(o,"init",this.destroy$).subscribe(()=>{this.initEditor(o)}),Ie(this,o,this.destroy$),this.init&&typeof this.init.setup=="function"&&this.init.setup(o)}});Se(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{M().init(t)})};getScriptSrc(){return Pe(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){w(t,"blur",this.destroy$).subscribe(()=>{this.cdRef.markForCheck(),this.ngZone.run(()=>this.onTouchedCallback())}),w(t,this.modelEvents,this.destroy$).subscribe(()=>{this.cdRef.markForCheck(),this.ngZone.run(()=>this.emitOnChange(t))}),typeof this.initialValue=="string"&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),this.onInitNgModel!==void 0&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}static \u0275fac=function(o){return new(o||n)(c(N),c(F),c(W),c(z),c(Te,8))};static \u0275cmp=p({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",licenseKey:"licenseKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},features:[G([Ve]),K],decls:0,vars:0,template:function(o,i){},dependencies:[C,b],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return n})(),Oe=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=T({type:n});static \u0275inj=A({imports:[y]})}return n})();var De=(()=>{class n{constructor(t){this.emailService=t,this.to="arivelofaly@gmail.com",this.subject="",this.text="",this.editorConfig={base_url:"/assets/tinymce",suffix:".min",plugins:"lists link image autoresize",toolbar:"undo redo | formatselect | bold italic underline | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent",menubar:!1,height:300,placeholder:"Veuillez \xE9crire votre message ici..."}}sendEmail(){console.log("Donn\xE9es envoy\xE9es:",{to:this.to,subject:this.subject,text:this.text}),this.emailService.sendEmail(this.to,this.subject,this.text).subscribe({next:t=>alert("Email envoy\xE9 avec succ\xE8s !"),error:t=>{console.error("Erreur:",t),alert("Erreur lors de l'envoi de l'email")}})}static{this.\u0275fac=function(o){return new(o||n)(c(Me))}}static{this.\u0275cmp=p({type:n,selectors:[["app-sendEmail"]],decls:21,vars:5,consts:[[1,"email-container"],[1,"email-card"],[3,"ngSubmit"],["appearance","outline",1,"w-100","custom-form-field"],["matInput","","name","to","required","","placeholder","arivelofaly@gmail.com","placeholder","arivelofaly@gmail.com","readonly","","disabled","",3,"ngModelChange","ngModel"],["matInput","","name","subject","required","","placeholder","Objet de votre email",3,"ngModelChange","ngModel"],["name","text","placeholder","Veuillez \xE9crire votre message ici...","required","",3,"ngModelChange","init","ngModel"],[1,"email-actions"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(o,i){o&1&&(s(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),m(4,"Envoyer un email"),d(),s(5,"mat-card-subtitle"),m(6,"R\xE9digez votre message personnalis\xE9"),d()(),s(7,"mat-card-content")(8,"form",2),L("ngSubmit",function(){return i.sendEmail()}),s(9,"mat-form-field",3)(10,"mat-label"),m(11,"Destinataire"),d(),s(12,"input",4),h("ngModelChange",function(r){return g(i.to,r)||(i.to=r),r}),d()(),s(13,"mat-form-field",3)(14,"mat-label"),m(15,"Objet"),d(),s(16,"input",5),h("ngModelChange",function(r){return g(i.subject,r)||(i.subject=r),r}),d()(),s(17,"editor",6),h("ngModelChange",function(r){return g(i.text,r)||(i.text=r),r}),d(),s(18,"div",7)(19,"button",8),m(20," Envoyer "),d()()()()()()),o&2&&(u(12),f("ngModel",i.to),u(4),f("ngModel",i.subject),u(),S("init",i.editorConfig),f("ngModel",i.text),u(2),S("disabled",!i.to||!i.subject||!i.text))},dependencies:[C,ie,oe,te,me,b,X,$,q,Y,ee,Q,J,ne,ce,se,ae,Ce,ue,fe,he,ge,pe,le,de,re,be,Oe,y],styles:['@charset "UTF-8";.email-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f4f7fc}.email-card[_ngcontent-%COMP%]{max-width:600px;width:100%;margin-bottom:16%;box-shadow:0 4px 12px #0000001a;border-radius:12px;overflow:hidden;background-color:#fff;transition:transform .3s ease,box-shadow .3s ease}.email-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 8px 24px #00000026}.email-card-header[_ngcontent-%COMP%]{background-color:#6200ea;color:#fff;padding:16px;border-bottom:1px solid #ddd}.email-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600}.email-card-content[_ngcontent-%COMP%]{padding:20px}.custom-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-outline[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #6200ea;transition:all .3s ease}.mat-form-field-appearance-legacy.mat-focused[_ngcontent-%COMP%]   .mat-form-field-outline[_ngcontent-%COMP%]{border-bottom:2px solid #3700b3}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:18px 16px;height:60px;display:flex;align-items:center}input.mat-input-element[_ngcontent-%COMP%]{font-size:1.2rem;height:100%}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#6200ea;transition:all .3s ease}.mat-form-field-appearance-legacy.mat-focused[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-26px);font-size:.875rem;color:#3700b3}.mat-mdc-input-element[_ngcontent-%COMP%]{height:100%!important;padding-top:10px!important;padding-bottom:8px!important;font-size:.8rem!important}input.mat-input-element[_ngcontent-%COMP%]{font-size:1.1rem}.email-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}button[_ngcontent-%COMP%]{padding:12px 24px;font-size:1rem;font-weight:500;border-radius:8px;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#d9d3d3}.mat-mdc-raised-button[_ngcontent-%COMP%]:not(:disabled){background-color:#f5f8fd}button[_ngcontent-%COMP%]:not([disabled]):hover{background-color:rgb(213,127,35) at-sys-primary-fixed-dim}']})}}return n})();var vn=[{path:"",children:[{path:"sendEmail",canActivate:[we],data:{roles:["manager","mecanicien","client"]},component:De}]}];export{vn as EmailRoutes};
