import{a as y}from"./chunk-VE3T44VS.js";import{a as Qe}from"./chunk-46CZSLJQ.js";import{a as st}from"./chunk-PTF55QEO.js";import{b as Ge}from"./chunk-26Q3BSNR.js";import{a as Ue,b as Je}from"./chunk-4CWAV5PF.js";import{$ as He,K as Be,L as H,M as Ie,P as De,Q as We,R as Fe,S as Ve,T as Le,U as Ne,V as Re,W as Oe,X as je,Y as qe,_ as ze,f as we,g as xe,h as Ae,w as Te}from"./chunk-6GRSV3W3.js";import{a as G}from"./chunk-3BXQV7YT.js";import{b as Pe,d as S,e as ye,i as ve,k as Ke}from"./chunk-M22CPC4C.js";import{$a as b,Ca as B,Da as K,Fa as Q,Ha as I,Ia as X,Ja as D,Na as Ee,Pa as W,Qa as Y,Ra as F,Xa as V,Y as A,Ya as Z,_a as $,bb as ke,cb as P,eb as L,fb as ee,ib as te,jb as N,kb as ie,lb as R,mb as O,nb as j,pb as ne,rb as ae,sb as q,tb as z,xa as T}from"./chunk-LDYTSFDL.js";import"./chunk-JHHBZ5S2.js";import{Bc as Se,Eb as p,Gb as fe,Ob as e,Pb as i,Qb as M,Rb as v,Sb as E,Ub as me,Wb as _,Xb as J,Yc as be,Zc as w,cd as x,fb as m,gc as ge,hc as o,ic as k,jc as he,kb as d,lc as u,mc as f,na as ue,nc as g,oa as re,pa as le,qc as _e,sb as C,tc as Me,uc as Ce,xb as h}from"./chunk-NNBNMEEF.js";import{a as U,f as ct}from"./chunk-GAL4ENT6.js";var ot=ct(st());var dt=n=>["/pieces/edit",n];function pt(n,s){n&1&&(e(0,"th",31),o(1," Pi\xE8ce "),i())}function ut(n,s){if(n&1&&(e(0,"td",32)(1,"div",33)(2,"h6",34),o(3),i()()()),n&2){let a=s.$implicit;m(3),k(a.name)}}function ft(n,s){n&1&&(e(0,"th",31),o(1," Cat\xE9gorie "),i())}function gt(n,s){if(n&1&&(e(0,"td",32),o(1),i()),n&2){let a=s.$implicit;m(),k(a.category)}}function ht(n,s){n&1&&(e(0,"th",31),o(1," Description "),i())}function _t(n,s){if(n&1&&(e(0,"td",32),o(1),i()),n&2){let a=s.$implicit;m(),k(a.description)}}function Mt(n,s){n&1&&(e(0,"th",31),o(1," Prix "),i())}function Ct(n,s){if(n&1&&(e(0,"td",32),o(1),Me(2,"currencyAr"),i()),n&2){let a=s.$implicit;m(),k(Ce(2,1,a.price))}}function St(n,s){n&1&&(e(0,"th",31),o(1," Stock "),i())}function bt(n,s){if(n&1&&(e(0,"td",32),o(1),i()),n&2){let a=s.$implicit;m(),k(a.stock)}}function Pt(n,s){n&1&&M(0,"th",31)}function yt(n,s){if(n&1){let a=me();e(0,"td",32)(1,"button",36)(2,"mat-icon"),o(3,"more_vert"),i()(),e(4,"mat-menu",37,0)(6,"a",38),M(7,"i-tabler",39),e(8,"span"),o(9,"Modifier"),i()(),e(10,"a",40),_("click",function(){let t=re(a).$implicit,c=J(2);return le(c.confirmDelete(t._id))}),M(11,"i-tabler",41),e(12,"span"),o(13,"Supprimer"),i()()()()}if(n&2){let a=s.$implicit,l=ge(5);m(),p("matMenuTriggerFor",l),m(5),p("routerLink",_e(2,dt,a._id))}}function vt(n,s){n&1&&(v(0,35),h(1,Pt,1,0,"th",18)(2,yt,14,4,"td",19),E())}function Et(n,s){n&1&&M(0,"tr",42)}function kt(n,s){n&1&&M(0,"tr",43)}function wt(n,s){n&1&&M(0,"mat-progress-bar",44)}function xt(n,s){if(n&1){let a=me();e(0,"span")(1,"button",45),_("click",function(){let t=re(a).$implicit,c=J();return le(c.goToPage(t))}),o(2),i()()}if(n&2){let a=s.$implicit,l=J();m(),fe("active",l.currentPage===a-1),m(),he(" ",a," ")}}var oe=(()=>{class n{constructor(a,l,t,c,r){this.pieceService=a,this.cdr=l,this.snackBar=t,this.authService=c,this.router=r,this.displayedColumns=[],this.dataSource=[],this.pagedData=[],this.currentPage=0,this.pageSize=5,this.totalPages=0,this.isLoading=!0,this.filterValues={name:"",category:"",priceMin:null,priceMax:null}}ngOnInit(){!this.dataSource||this.dataSource.length===0?(this.loadPieces(),this.applyFilter(),this.user=this.authService.currentUserValue,this.setDisplayedColumns(),console.log("Utilisateur connect\xE9 :",this.user)):this.isLoading=!1}ngOnChanges(a){a.dataSource&&(this.filteredDataSource.data=this.dataSource,this.applyFilter())}setDisplayedColumns(){this.user?.role.includes("manager")?this.displayedColumns=["name","category","description","price","stock","menu"]:this.user?.role.includes("mecanicien")&&(this.displayedColumns=["name","category","description","price","stock"])}loadPieces(){this.isLoading=!0,this.pieceService.getAllPieces().subscribe({next:a=>{this.dataSource=a,this.filteredDataSource=new ze(a),this.applyFilter(),this.isLoading=!1,console.log(a)},error:()=>{this.isLoading=!1}})}applyFilter(){if(!this.dataSource||this.dataSource.length===0)return;let a=this.dataSource.filter(l=>l.name.toLowerCase().includes(this.filterValues.name.toLowerCase())&&(this.filterValues.category===""||l.category===this.filterValues.category)&&(this.filterValues.priceMin==null||l.price>=this.filterValues.priceMin)&&(this.filterValues.priceMax==null||l.price<=this.filterValues.priceMax));this.filteredDataSource.data=a,this.totalPages=Math.ceil(this.filteredDataSource.data.length/this.pageSize),this.updatePagedData(),this.cdr.detectChanges()}confirmDelete(a){ot.default.fire({title:"\xEAtes-vous s\xFBrs?",text:"Voulez-vous supprimer cette pi\xE8ce?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmer la suppression",cancelButtonText:"Annuler"}).then(l=>{l.isConfirmed&&this.deletePiece(a)})}deletePiece(a){console.log(a),this.pieceService.deletePiece(a).subscribe({next:l=>{this.snackBar.open("La pi\xE8ce a bien \xE9t\xE9 supprim\xE9e","Fermer",{duration:8e3,verticalPosition:"top",panelClass:"alert-success"}),this.dataSource=this.dataSource.filter(t=>a!==a),this.cdr.detectChanges(),this.loadPieces(),this.router.navigate(["/pieces/addButton"])},error:l=>{console.error("Erreur lors de la suppression:",l)}})}updatePagedData(){let a=this.currentPage*this.pageSize,l=a+this.pageSize;this.pagedData=this.filteredDataSource.data.slice(a,l)}nextPage(){this.currentPage<this.totalPages-1&&(this.currentPage++,this.updatePagedData())}previousPage(){this.currentPage>0&&(this.currentPage--,this.updatePagedData())}goToPage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a-1,this.updatePagedData())}getPageNumbers(){return Array.from({length:this.totalPages},(a,l)=>l+1)}static{this.\u0275fac=function(l){return new(l||n)(d(y),d(Se),d(H),d(Ke),d(S))}}static{this.\u0275cmp=C({type:n,selectors:[["app-all"]],inputs:{dataSource:"dataSource"},features:[ue],decls:60,vars:12,consts:[["menu","matMenu"],[1,"cardWithShadow","overflow-hidden"],[1,"m-b-4"],[1,"filter-container","d-flex","gap-3"],["appearance","outline",1,"flex-grow-1"],["matInput","","placeholder","Rechercher un service",3,"ngModelChange","ngModel"],["appearance","outline"],[3,"ngModelChange","ngModel"],["value",""],["value","Moteur"],["value","Syst\xE8me de freinage"],["value","\xC9lectrique et \xC9lectronique"],["value","\xC9chappement"],["matInput","","type","number",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary",3,"click"],[1,"table-responsive"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","class","mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","description"],["matColumnDef","price"],["matColumnDef","stock"],["matColumnDef","menu",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mode","indeterminate",4,"ngIf"],[1,"pagination-controls"],[3,"click","disabled"],[4,"ngFor","ngForOf"],["mat-header-cell","",1,"mat-subtitle-1","f-s-14"],["mat-cell",""],[1,"d-flex","align-items-center"],[1,"mat-subtitle-1","text-truncate-2","f-s-14","lh-sm"],["matColumnDef","menu"],["mat-icon-button","","aria-label","Example icon button with a vertical three dot icon",3,"matMenuTriggerFor"],["xPosition","before"],[1,"d-flex","align-items-center","text-decoration-none","p-y-10","p-x-16","mat-body-1","gap-8",3,"routerLink"],["name","edit",1,"icon-18"],["href","javascript:void(0)",1,"d-flex","align-items-center","text-decoration-none","p-y-10","p-x-16","mat-body-1","gap-8",3,"click"],["name","trash",1,"icon-18"],["mat-header-row",""],["mat-row",""],["mode","indeterminate"],[3,"click"]],template:function(l,t){l&1&&(e(0,"mat-card",1)(1,"mat-card-content")(2,"mat-card-title",2),o(3,"Nos Pi\xE8ces"),i()(),e(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),o(7,"Nom du service"),i(),e(8,"input",5),g("ngModelChange",function(r){return f(t.filterValues.name,r)||(t.filterValues.name=r),r}),i()(),e(9,"mat-form-field",6)(10,"mat-label"),o(11,"Cat\xE9gorie"),i(),e(12,"mat-select",7),g("ngModelChange",function(r){return f(t.filterValues.category,r)||(t.filterValues.category=r),r}),e(13,"mat-option",8),o(14,"Toutes"),i(),e(15,"mat-option",9),o(16,"Moteur"),i(),e(17,"mat-option",10),o(18,"Syst\xE8me de freinage"),i(),e(19,"mat-option",11),o(20,"\xC9lectrique et \xC9lectronique"),i(),e(21,"mat-option",12),o(22,"\xC9chappement"),i()()(),e(23,"mat-form-field",6)(24,"mat-label"),o(25,"Prix min"),i(),e(26,"input",13),g("ngModelChange",function(r){return f(t.filterValues.priceMin,r)||(t.filterValues.priceMin=r),r}),i()(),e(27,"mat-form-field",6)(28,"mat-label"),o(29,"Prix max"),i(),e(30,"input",13),g("ngModelChange",function(r){return f(t.filterValues.priceMax,r)||(t.filterValues.priceMax=r),r}),i()(),e(31,"button",14),_("click",function(){return t.applyFilter()}),o(32," Filtrer "),i()(),e(33,"div",15)(34,"table",16),v(35,17),h(36,pt,2,0,"th",18)(37,ut,4,1,"td",19),E(),v(38,20),h(39,ft,2,0,"th",18)(40,gt,2,1,"td",19),E(),v(41,21),h(42,ht,2,0,"th",18)(43,_t,2,1,"td",19),E(),v(44,22),h(45,Mt,2,0,"th",18)(46,Ct,3,3,"td",19),E(),v(47,23),h(48,St,2,0,"th",18)(49,bt,2,1,"td",19),E(),h(50,vt,3,0,"ng-container",24)(51,Et,1,0,"tr",25)(52,kt,1,0,"tr",26),i(),h(53,wt,1,0,"mat-progress-bar",27),i(),e(54,"div",28)(55,"button",29),_("click",function(){return t.previousPage()}),o(56,"Previous"),i(),h(57,xt,3,3,"span",30),e(58,"button",29),_("click",function(){return t.nextPage()}),o(59,"Next"),i()()()),l&2&&(m(8),u("ngModel",t.filterValues.name),m(4),u("ngModel",t.filterValues.category),m(14),u("ngModel",t.filterValues.priceMin),m(4),u("ngModel",t.filterValues.priceMax),m(4),p("dataSource",t.pagedData),m(16),p("ngIf",(t.user==null?null:t.user.role)!=="mecanicien"),m(),p("matHeaderRowDef",t.displayedColumns),m(),p("matRowDefColumns",t.displayedColumns),m(),p("ngIf",t.isLoading),m(2),p("disabled",t.currentPage===0),m(2),p("ngForOf",t.getPageNumbers()),m(),p("disabled",t.currentPage===t.totalPages-1))},dependencies:[He,A,V,F,L,N,we,xe,R,j,O,b,ke,Te,q,De,Fe,Re,Ve,We,Oe,Le,Ne,je,qe,Ae,P,x,be,w,Je,Ue,z,Ge,ve,ye,W,T,D,B,I,Qe],styles:[".alert-success .mat-mdc-snack-bar-label .mdc-snackbar__label{background-color:#4caf50!important;color:#fff!important}  .alert-error .mat-mdc-snack-bar-label .mdc-snackbar__label{background-color:#f44336!important;color:#fff!important}.pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:6px;margin-top:20px}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #007bff;color:#007bff;padding:8px 12px;font-size:14px;font-weight:700;border-radius:6px;cursor:pointer;transition:.3s}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff;transform:scale(1.1)}.pagination-controls[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:2px solid #0056b3}.pagination-controls[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#ddd;border:2px solid #ccc;color:#888;cursor:not-allowed}.pagination-controls[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:hover{transform:none}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2), .pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-last-child(2){pointer-events:none;background:none;border:none;color:#333;font-weight:700}"]})}}return n})();var rt=(()=>{class n{constructor(a,l){this.pieceService=a,this.router=l,this.pieces=[]}ngOnInit(){this.loadPieces()}loadPieces(){this.pieceService.getAllPieces().subscribe(a=>{this.pieces=a})}goToAddPiece(){this.router.navigate(["/pieces/add"])}static{this.\u0275fac=function(l){return new(l||n)(d(y),d(S))}}static{this.\u0275cmp=C({type:n,selectors:[["app-addButton"]],decls:3,vars:1,consts:[["mat-flat-button","","color","primary",1,"m-b-8",3,"click"],[3,"dataSource"]],template:function(l,t){l&1&&(e(0,"button",0),_("click",function(){return t.goToAddPiece()}),o(1,"Ajouter pi\xE8ce"),i(),M(2,"app-all",1)),l&2&&(m(2),p("dataSource",t.pieces))},dependencies:[oe,P,b],encapsulation:2})}}return n})();function At(n,s){n&1&&M(0,"mat-progress-bar",21)}var lt=(()=>{class n{constructor(a,l,t){this.pieceService=a,this.router=l,this.snackBar=t,this.defaultPiece={_id:"",name:"",category:"Moteur",description:"",price:0,stock:0},this.piece=U({},this.defaultPiece),this.isLoading=!1}save(){if(!this.piece?.name||!this.piece?.category){this.snackBar.open("Veuillez remplir tous les champs !","Fermer",{duration:8e3,verticalPosition:"top",panelClass:"alert-error"});return}if(this.piece.price<=0){this.snackBar.open("Veuillez entrer un prix valide!","Fermer",{duration:8e3,verticalPosition:"top",panelClass:"alert-error"});return}if(this.piece.stock<=0){this.snackBar.open("Veuillez entrer un nombre de stock valide!","Fermer",{duration:8e3,verticalPosition:"top",panelClass:"alert-error"});return}this.isLoading=!0,this.pieceService.createPiece(this.piece).subscribe({next:()=>{this.piece=U({},this.defaultPiece),this.snackBar.open("Pi\xE8ce ajout\xE9e avec succ\xE8s !","Fermer",{duration:2e3,verticalPosition:"top",panelClass:"alert-success"})},error:a=>{console.error("Erreur lors de l'ajout :",a);let l=a.error?.message||"Une erreur inconnue est survenue.";this.snackBar.open(l,"Fermer",{duration:8e3,verticalPosition:"top",panelClass:"alert-error"})},complete:()=>{this.isLoading=!1}})}cancel(){this.piece=U({},this.defaultPiece)}static{this.\u0275fac=function(l){return new(l||n)(d(y),d(S),d(H))}}static{this.\u0275cmp=C({type:n,selectors:[["app-add"]],decls:50,vars:6,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],["mode","indeterminate",4,"ngIf"],[1,"b-t-1"],[1,"row"],[1,"col-lg-6"],[1,"f-w-600","m-b-8","d-block"],[2,"color","red"],["appearance","outline",1,"w-100"],["matInput","","placeholder","ex: Radiateur","name","name","required","",3,"ngModelChange","ngModel"],[1,"f-w-600","m-b-8","d-block","mt-3"],["matInput","","placeholder","Entrez la description...","rows","6","name","description",3,"ngModelChange","ngModel"],["name","category",3,"ngModelChange","ngModel"],["value","Moteur"],["value","Syst\xE8me de freinage"],["value","\xC9lectrique et \xC9lectronique"],["value","\xC9chappement"],["matInput","","placeholder","ex: 15000","name","price","required","",3,"ngModelChange","ngModel"],["matInput","","type","number","name","stock","required","",3,"ngModelChange","ngModel"],["mat-flat-button","","color","primary",1,"m-r-8","m-l-16",3,"click"],["mat-stroked-button","","color","warn","type","button",3,"click"],["mode","indeterminate"]],template:function(l,t){l&1&&(e(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),o(3,"Ajouter une pi\xE8ce"),i()(),h(4,At,1,0,"mat-progress-bar",2),e(5,"mat-card-content",3)(6,"form")(7,"div",4)(8,"div",5)(9,"mat-label",6),o(10,"Pi\xE8ce"),e(11,"span",7),o(12,"*"),i()(),e(13,"mat-form-field",8)(14,"input",9),g("ngModelChange",function(r){return f(t.piece.name,r)||(t.piece.name=r),r}),i()(),e(15,"mat-label",10),o(16,"Description"),i(),e(17,"mat-form-field",8)(18,"textarea",11),g("ngModelChange",function(r){return f(t.piece.description,r)||(t.piece.description=r),r}),i()()(),e(19,"div",5)(20,"mat-label",6),o(21,"Cat\xE9gorie"),e(22,"span",7),o(23,"*"),i()(),e(24,"mat-form-field",8)(25,"mat-select",12),g("ngModelChange",function(r){return f(t.piece.category,r)||(t.piece.category=r),r}),e(26,"mat-option",13),o(27,"Moteur"),i(),e(28,"mat-option",14),o(29,"Syst\xE8me de freinage"),i(),e(30,"mat-option",15),o(31,"\xC9lectrique et \xC9lectronique"),i(),e(32,"mat-option",16),o(33,"\xC9chappement"),i()()(),e(34,"mat-label",10),o(35,"Prix"),e(36,"span",7),o(37,"*"),i()(),e(38,"mat-form-field",8)(39,"input",17),g("ngModelChange",function(r){return f(t.piece.price,r)||(t.piece.price=r),r}),i()(),e(40,"mat-label",10),o(41,"Stock"),e(42,"span",7),o(43,"*"),i()(),e(44,"mat-form-field",8)(45,"input",18),g("ngModelChange",function(r){return f(t.piece.stock,r)||(t.piece.stock=r),r}),i()()(),e(46,"button",19),_("click",function(){return t.save()}),o(47,"Enregistrer"),i(),e(48,"button",20),_("click",function(){return t.cancel()}),o(49,"Annuler"),i()()()()()),l&2&&(m(4),p("ngIf",t.isLoading),m(10),u("ngModel",t.piece.name),m(4),u("ngModel",t.piece.description),m(7),u("ngModel",t.piece.category),m(14),u("ngModel",t.piece.price),m(6),u("ngModel",t.piece.stock))},dependencies:[x,w,Z,V,F,ie,N,A,W,X,T,D,B,K,Ee,I,Q,Y,te,P,b,ae,R,j,ne,O,ee,L,$,z,q,Ie],styles:[".alert-success .mat-mdc-snack-bar-label .mdc-snackbar__label{background-color:#4caf50!important;color:#fff!important}  .alert-error .mat-mdc-snack-bar-label .mdc-snackbar__label{background-color:#f44336!important;color:#fff!important}"]})}}return n})();function Tt(n,s){n&1&&M(0,"mat-progress-bar",22)}var mt=(()=>{class n{constructor(a,l,t,c){this.route=a,this.pieceService=l,this.router=t,this.snackBar=c,this.piece={_id:"",name:"",category:"Moteur",description:"",price:0,stock:0},this.isLoading=!1}ngOnInit(){let a=this.route.snapshot.paramMap.get("id");a&&this.pieceService.getPieceById(a).subscribe(l=>{this.piece=l})}save(){this.isLoading=!0,this.pieceService.updatePiece(this.piece).subscribe({next:()=>{this.isLoading=!1,this.snackBar.open("Pi\xE8ce modifier avec succ\xE8s !","Fermer",{duration:8e3,verticalPosition:"top",panelClass:"alert-success"})},error:()=>{this.isLoading=!1}})}cancel(){this.router.navigate(["/pieces/addButton"])}static{this.\u0275fac=function(l){return new(l||n)(d(Pe),d(y),d(S),d(H))}}static{this.\u0275cmp=C({type:n,selectors:[["app-edit"]],decls:51,vars:6,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],["mode","indeterminate",4,"ngIf"],[1,"b-t-1"],[1,"row"],[1,"col-lg-6"],[1,"f-w-600","m-b-8","d-block"],[2,"color","red"],["appearance","outline",1,"w-100"],["matInput","","placeholder","ex: Radiateur","name","name",3,"ngModelChange","ngModel"],[1,"f-w-600","m-b-8","d-block","mt-3"],["matInput","","placeholder","Entrez la description...","rows","6","name","description",3,"ngModelChange","ngModel"],["name","category",3,"ngModelChange","ngModel"],["value","Moteur"],["value","Syst\xE8me de freinage"],["value","\xC9lectrique et \xC9lectronique"],["value","\xC9chappement"],["matInput","","placeholder","ex: 15000","name","price",3,"ngModelChange","ngModel"],["matInput","","type","number","name","stock",3,"ngModelChange","ngModel"],[1,"m-t-12"],["mat-flat-button","","color","primary",1,"m-r-8",3,"click"],["mat-stroked-button","","color","warn","type","button",3,"click"],["mode","indeterminate"]],template:function(l,t){l&1&&(e(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),o(3,"Modifier une pi\xE8ce"),i()(),h(4,Tt,1,0,"mat-progress-bar",2),e(5,"mat-card-content",3)(6,"form")(7,"div",4)(8,"div",5)(9,"mat-label",6),o(10,"Pi\xE8ce"),e(11,"span",7),o(12,"*"),i()(),e(13,"mat-form-field",8)(14,"input",9),g("ngModelChange",function(r){return f(t.piece.name,r)||(t.piece.name=r),r}),i()(),e(15,"mat-label",10),o(16,"Description"),i(),e(17,"mat-form-field",8)(18,"textarea",11),g("ngModelChange",function(r){return f(t.piece.description,r)||(t.piece.description=r),r}),i()()(),e(19,"div",5)(20,"mat-label",6),o(21,"Cat\xE9gorie"),e(22,"span",7),o(23,"*"),i()(),e(24,"mat-form-field",8)(25,"mat-select",12),g("ngModelChange",function(r){return f(t.piece.category,r)||(t.piece.category=r),r}),e(26,"mat-option",13),o(27,"Moteur"),i(),e(28,"mat-option",14),o(29,"Syst\xE8me de freinage"),i(),e(30,"mat-option",15),o(31,"\xC9lectrique et \xC9lectronique"),i(),e(32,"mat-option",16),o(33,"\xC9chappement"),i()()(),e(34,"mat-label",10),o(35,"Prix"),e(36,"span",7),o(37,"*"),i()(),e(38,"mat-form-field",8)(39,"input",17),g("ngModelChange",function(r){return f(t.piece.price,r)||(t.piece.price=r),r}),i()(),e(40,"mat-label",10),o(41,"Stock"),e(42,"span",7),o(43,"*"),i()(),e(44,"mat-form-field",8)(45,"input",18),g("ngModelChange",function(r){return f(t.piece.stock,r)||(t.piece.stock=r),r}),i()()()(),e(46,"div",19)(47,"button",20),_("click",function(){return t.save()}),o(48," Mettre \xE0 jour "),i(),e(49,"button",21),_("click",function(){return t.cancel()}),o(50,"Annuler"),i()()()()()),l&2&&(m(4),p("ngIf",t.isLoading),m(10),u("ngModel",t.piece.name),m(4),u("ngModel",t.piece.description),m(7),u("ngModel",t.piece.category),m(14),u("ngModel",t.piece.price),m(6),u("ngModel",t.piece.stock))},dependencies:[x,w,Z,V,F,ie,N,A,W,X,T,D,B,K,I,Q,Y,te,P,b,ae,R,j,ne,O,ee,L,$,Be,z,q],styles:[".alert-success .mat-mdc-snack-bar-label .mdc-snackbar__label{background-color:#4caf50!important;color:#fff!important}  .alert-error .mat-mdc-snack-bar-label .mdc-snackbar__label{background-color:#f44336!important;color:#fff!important}"]})}}return n})();var wi=[{path:"",children:[{path:"add",canActivate:[G],data:{roles:["manager"]},component:lt},{path:"addButton",canActivate:[G],data:{roles:["manager"]},component:rt},{path:"all",canActivate:[G],data:{roles:["manager","mecanicien"]},component:oe},{path:"edit/:id",canActivate:[G],data:{roles:["manager"]},component:mt}]}];export{wi as PiecesRoutes};
